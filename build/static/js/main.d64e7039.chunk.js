(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(14),a=n.n(c),o=n(4),s=n(2),r=n(3),i=n.n(r),l="http://localhost:3001/persons",u=function(){return i.a.get(l)},d=function(e){return i.a.post(l,e)},j=(n(37),n(0)),h=function(e){var t=e.handleClick,n=e.text;return Object(j.jsx)("button",{onClick:t,children:n})},b=function(){Object(s.useEffect)((function(){i.a.get("http://localhost:3001/persons").then((function(e){console.log(e.data),c(e.data)}))}),[]),Object(s.useEffect)((function(){u().then((function(e){c(e.data)}))}),[]);var e=Object(s.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),r=Object(o.a)(a,2),l=r[0],b=r[1],f=Object(s.useState)(""),O=Object(o.a)(f,2),m=O[0],p=O[1],v=Object(s.useState)(""),x=Object(o.a)(v,2),g=x[0],w=x[1],C=Object(s.useState)(null),k=Object(o.a)(C,2),S=k[0],y=k[1],E=Object(s.useState)(null),N=Object(o.a)(E,2),D=N[0],J=N[1],L=n.filter((function(e){return e.name.toLowerCase().includes(g.toLowerCase())})),T=function(e){var t=e.message;return null===t?null:Object(j.jsx)("div",{className:"error",children:t})},B=function(e){var t=e.message;return null===t?null:Object(j.jsx)("div",{className:"warning",children:t})};return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Phonebook"}),Object(j.jsx)(T,{message:S}),Object(j.jsx)(B,{message:D}),Object(j.jsxs)("div",{children:["filter shown with ",Object(j.jsx)("input",{value:g,onChange:function(e){w(e.target.value)}})]}),Object(j.jsx)("h2",{children:"add a new"}),Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),n.find((function(e){return e.name===l}))){if(!0===window.confirm("".concat(l," is already added to phonebook, replace the old number with a new one?"))){var t={name:l,id:l,number:m};i.a.put("http://localhost:3001/persons/"+l,t).then((function(e){console.log(e.data),i.a.get("http://localhost:3001/persons").then((function(e){console.log(e.data),c(e.data)}))})).catch((function(e){J("".concat(l," has already been removed from server")),setTimeout((function(){J(null)}),5e3)}))}}else{var a={name:l,id:l,number:m};c(n.concat(a)),p(n.concat(a)),b(""),p(""),d(a).then((function(e){c(n.concat(e.data)),b(""),y("".concat(l," added to server")),setTimeout((function(){y(null)}),5e3)}))}},children:[Object(j.jsxs)("div",{children:["name: ",Object(j.jsx)("input",{value:l,onChange:function(e){b(e.target.value)}})]}),Object(j.jsxs)("div",{children:["number: ",Object(j.jsx)("input",{value:m,onChange:function(e){p(e.target.value)}})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"submit",children:"add"})})]}),Object(j.jsx)("h2",{children:"Numbers"}),Object(j.jsx)("ul",{children:L.map((function(e){return Object(j.jsxs)("li",{children:[e.name," ",e.number," ",Object(j.jsx)(h,{handleClick:function(){var t,n;t=e.id,n=e.name,!0===window.confirm("Delete ".concat(n," ?"))&&i.a.delete("http://localhost:3001/persons/"+t).then((function(e){console.log(e.data),i.a.get("http://localhost:3001/persons").then((function(e){console.log(e.data),c(e.data)}))}))},text:"delete"})]},e.id)}))})]})};a.a.render(Object(j.jsx)(b,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.d64e7039.chunk.js.map